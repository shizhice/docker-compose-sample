# 允许访问redis sentinel的ip
bind 0.0.0.0
# pid 文件配置
pidfile "/var/run/redis/redis-sentinel.pid"
# 日志文件配置
logfile "/var/log/redis/redis-sentinel.log"
# 端口号
port 26379
# 守护进程启动: docker方式需要以前台的方式启动
daemonize no

# redis 工作目录
dir "/tmp"

# monitor      指的是初始化的监控主节点，ip和端口，后面的数字2代表，必须2个sentinel才能判断主节点是否失败
# down-after-milliseconds      心跳检测在一段时间内没有收到回应，则认为该节点不可达, 单位是毫秒
# parallel-syncs    在发生failover主备切换时，这个选项指定了最多可以有多少个slave同时对新的master进行同步，这个数字越小，完成failover所需的时间就越长
# failover-timeout  指的是故障转移时间

sentinel myid 6ba538d9e3c7e888d7d73a1c4cfaf3d7f332b3f5
sentinel deny-scripts-reconfig yes
sentinel monitor my-redis-master 10.10.20.101 6379 2
sentinel down-after-milliseconds my-redis-master 1000
sentinel failover-timeout my-redis-master 5000
# Generated by CONFIG REWRITE
user default on nopass ~* +@all
sentinel auth-pass my-redis-master 123456
sentinel config-epoch my-redis-master 18
sentinel leader-epoch my-redis-master 18
sentinel known-replica my-redis-master 10.10.20.103 6379
sentinel known-replica my-redis-master 10.10.20.102 6379
sentinel known-sentinel my-redis-master 10.10.20.104 26379 4dc0ae5305eefa1203649f71ef1de1a45aa3114b
sentinel known-sentinel my-redis-master 10.10.20.106 26379 ae33a5bcea8daf824ef19e693603eea9533e3b21
sentinel current-epoch 18
