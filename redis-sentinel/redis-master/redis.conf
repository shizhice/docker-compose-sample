#############################################################################
#                                  基础设置                                  #
#############################################################################

# 守护进程启动: docker方式需要以前台的方式启动
daemonize no
# pid
pidfile "/var/run/redis_6379.pid"
# redis 端口
port 6379
# 允许访问redis的ip
bind 0.0.0.0
# 关闭无消息的客户端间隔
timeout 0
# 对客户端发送ack信息 单位秒
tcp-keepalive 0
# 数据库数量
databases 8
# redis 工作目录
dir "/usr/local/redis/data"
# redis 允许同时最多链接数量
maxclients 65535
# 设置redis 的内存上限
maxmemory 512mb

#############################################################################
#                                  淘汰策略                                  #
#############################################################################

# volatile-random           只限于设置了expire的key，随机删除一部分key
# allkeys-random            所有key通用， 随机删除一部分key
# volatile-lru              只限于设置了expire的key，优先删除最近最少使用(less recently used, LRU)的key
# allkeys-lru               所有key通用，优先删除最近最少使用(less recently used, LRU)的key
# volatile-ttl              只限于设置了expire的key，优先删除剩余时间短(time to live,TTL)的key
# no-enviction              不删除任何key，达到最大内存限制时，在写操作时返回错误

maxmemory-policy volatile-lru

#############################################################################
#                                  日志设置                                  #
#############################################################################

# 日志输出的文件名
logfile "/var/log/redis/redis.log"

#############################################################################
#                                  密码设置                                  #
#############################################################################
# 设置连接密码
requirepass "123456"

#############################################################################
#                                  主从配置                                  #
#############################################################################
# master连接密码
masterauth "123456"
# 配置master
# replicaof redis-master 6379
